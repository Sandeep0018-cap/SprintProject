<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments :: head('Customers')}"></head>
<body>

<div th:replace="~{fragments :: nav}"></div>

<style>
  :root{
    --swiggy-orange:#FC8019; --ink:#02060C; --ink-2:#3E4152; --muted:#6B7280; --border:#ECECEC;
    --bg:#F6F7F9; --card:#ffffff;
  }
  body{ background:var(--bg); color:var(--ink); }
  .section-title{ font-weight:700; }
  .accent{ color:var(--swiggy-orange); }
  .card{ border:1px solid var(--border); border-radius:16px; background:var(--card); box-shadow:0 6px 18px rgba(0,0,0,.06); }
  .table thead th{ position:sticky; top:0; background:#fff; border-bottom:1px solid var(--border)!important; font-weight:600; }
  .table-hover tbody tr:hover{ background:rgba(252,128,25,.04); }
  .avatar{ width:36px; height:36px; border-radius:50%; display:flex; align-items:center; justify-content:center;
           background:linear-gradient(135deg, rgba(252,128,25,.15), rgba(252,128,25,.06)); border:1px solid var(--border);
           color:var(--swiggy-orange); font-weight:700; }
  .badge-soft{ background:#fff; border:1px solid var(--border); border-radius:999px; padding:.25rem .6rem; }
</style>

<div class="container py-4">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3 section-title m-0">
      <i class="bi bi-people me-2 accent"></i>Customers
    </h1>
  </div>

  <div class="card shadow-sm">
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th style="width:80px;">ID</th>
            <th>Name</th>
            <th style="width:160px;">Phone</th>
            <th style="width:180px;">City</th>
            <th>Last Item</th>
            <th style="width:160px;">Payment Mode</th>
          </tr>
        </thead>

        <tbody>
          <tr th:each="c : ${rows}">
            <!-- uses DTO property -->
            <td class="text-muted" th:text="${c.customerId}">1</td>

            <td>
              <div class="d-flex align-items-center gap-2">
                <div class="avatar" th:text="${c.name != null and c.name != '' ? c.name.substring(0,1) : 'C'}">C</div>
                <div class="fw-semibold" th:text="${c.name}">Name</div>
              </div>
            </td>

            <td th:text="${c.phone}">Phone</td>
            <td><span class="badge badge-soft" th:text="${c.city}">City</span></td>

            <td th:text="${c.purchasedItem ?: '-'}">-</td>
            <td th:text="${c.paymentMode ?: '-'}">-</td>
          </tr>

          <tr th:if="${#lists.isEmpty(rows)}">
            <td colspan="6" class="text-center text-muted py-4">No customers found.</td>
          </tr>
        </tbody>

      </table>
    </div>
  </div>

</div>

</body>
</html>