<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments :: head('Customers')}"></head>
<body>

<div th:replace="~{fragments :: nav}"></div>

<!-- Lightweight theme -->
<style>
  :root{
    --swiggy-orange:#FC8019;
    --ink:#02060C;
    --ink-2:#3E4152;
    --muted:#6B7280;
    --border:#ECECEC;
    --bg:#F6F7F9;
    --card:#ffffff;
    --success:#12B76A;
    --warning:#FEC84B;
    --danger:#F04438;
  }

  body{ background:var(--bg); color:var(--ink); }

  .section-title{ color:var(--ink); font-weight:700; }
  .accent{ color:var(--swiggy-orange); }

  .card{
    border:1px solid var(--border);
    border-radius:16px;
    box-shadow:0 6px 18px rgba(0,0,0,.06);
    overflow:hidden;
    background:var(--card);
  }

  /* Table */
  .table thead th{
    position:sticky; top:0; z-index:1;
    background:#fff;
    border-bottom:1px solid var(--border) !important;
    color:#374151; font-weight:600;
  }
  .table td,.table th{ vertical-align:middle; }
  .table-hover tbody tr:hover{ background:rgba(252,128,25,.04); }
  .table tbody tr:nth-child(odd){ background:#fafafa; }
  .text-muted{ color:var(--muted) !important; }

  /* Avatar (initial) */
  .customer-name{ display:flex; align-items:center; gap:.6rem; }
  .avatar{
    width:36px; height:36px; border-radius:50%;
    background:linear-gradient(135deg, rgba(252,128,25,.15), rgba(252,128,25,.06));
    display:inline-flex; align-items:center; justify-content:center;
    color:var(--swiggy-orange); font-weight:700;
    border:1px solid var(--border);
  }
  .badge-soft{
    background:#fff; border:1px solid var(--border);
    border-radius:999px; padding:.25rem .6rem;
    color:var(--ink-2); font-weight:500;
  }
</style>

<div class="container py-4">

  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3 section-title m-0">
      <i class="bi bi-people me-2 accent"></i>Customers
    </h1>
    <!-- (Optional) Add button hook
    <a th:href="@{/customers/new}" class="btn btn-sm btn-primary">
      <i class="bi bi-plus-lg me-1"></i>Add Customer
    </a> -->
  </div>

  <!-- Pure table (no search/filters/export) -->
  <div class="card shadow-sm">
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th style="width:80px;">ID</th>
            <th>Name</th>
            <th style="width:160px;">Phone</th>
            <th style="width:180px;">City</th>
            <th>Last Item</th>
            <th style="width:160px;">Payment Mode</th>
          </tr>
        </thead>

        <tbody>
          <tr th:each="c : ${rows}">
            <td class="text-muted" th:text="${c.id}">1</td>

            <td>
              <div class="customer-name">
                <div class="avatar"
                     th:text="${c.name != null && c.name != '' ? c.name.substring(0,1) : 'C'}">C</div>
                <div class="fw-semibold" th:text="${c.name}">Name</div>
              </div>
            </td>

            <td th:text="${c.phone}">Phone</td>
            <td><span class="badge badge-soft" th:text="${c.city}">City</span></td>

            <!-- Uses field built in service: brand + product name -->
            <td th:text="${c.purchasedItem != null && c.purchasedItem != '' ? c.purchasedItem : '-'}">-</td>

            <!-- Payment mode taken from last purchase -->
            <td th:text="${c.paymentMode != null && c.paymentMode != '' ? c.paymentMode : '-'}">-</td>
          </tr>

          <tr th:if="${#lists.isEmpty(rows)}">
            <td colspan="6" class="text-center text-muted py-4">
              No customers found.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div> <!-- /container -->

</body>
</html>